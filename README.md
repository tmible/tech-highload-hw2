# tech-highload-hw2
## Тема
Приложение с расписанием.  
Пользователи могут создавать своё уникальное расписание, при необходимости и желании используя готовые (если нужные есть в базе данных приложения).
## Возможный диапазон нагрузок
По данным статистического сборника «Образование в цифрах: 2020», выпущенного институтом статистических исследований и экономики знаний НИУ ВШЭ, в России на начало 2019/20 учебного года 16 565 600 школьников и 4 068 300 студентов. Предположим, 4% школьников и 100% студентов заинтересовались приложением. Получается 4 730 924 уникальных пользователей ежедневно (по будням как минимум).
## Планируемая нагрузка
Будем исходить из того, что каждый пользователь заходит в приложение в среднем 9 раз в день. В период с 8:00 до 18:00 нагрузка средняя. С 18:00 до 21:00 пивковая: все заходят посмотреть домашку. С 21:00 до 8:00 следующего дня заметно падает. Получается пиковая (вечерняя) нагрузка примерно 4000 rps. Будем обеспечивать 5000 rps.
## Логическая схема базы данных
В базе данных нужно уметь хранить, в общем говоря, пользователей, расписания, задания. В частности нужно ещё хранить занятия как элементы, составляющие расписание и предметы как обобщение занятий.  
пользователь >o———o< расписание -||———o< занятие >o———||- предмет -||———o< задание
## Физическая система хранения
Приложению хватит двух СУБД: MongoDB для логики и Redis для хранения сессий авторизации.

Redis — очень быстрое, не имеющее много лишней функциональности, хранилище, работающее в оперативной памяти, но также умеющее сохранять данные на диск. Идеально подходит для хранения сессий.

Для выбора основной СУБД для начала обратимся к CAP-теореме. Учитывая специфику приложения, выбор за CP-характеристиками. MongoDB — самая популярная из подходящих СУБД. У неё есть достаточная функциональность, развитое сообщество и обширная документация.
## Прочие технологии
Go на бэкенде. Быстрый, лёгкий и достаточно простой язык с хорошей многопоточностью и системной управления модулями.

Останое как обычно: JS (+ PWA, CSS, HTML), фреймворк по желанию, http...
## Расчет нагрузки и потребного оборудования
## Выбор хостинга / облачного провайдера и расположения серверов
### Расположение серверов
Приложение рассчитано на обслуживание клиентов и России, поэтому в идеале сервера расбросаны по стране в соответствии с плотностью населения.
## Схема балансировки нагрузки
## Обеспечение отказоустойчивости
- запуск всего в docker-контейнерах с хорошими логами и автоматическим перезапуском
- реплицирущие сервера
- регулярные пинги
